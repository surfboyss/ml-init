#import os
import git
from datetime import datetime

def daily_commit(repo_path, file_path, commit_message):
    repo = git.Repo(repo_path)
    file_path = os.path.join(repo.working_tree_dir, file_path)

    with open(file_path, 'a') as file:
        file.write(f'\n\n// Commit on: {datetime.now().strftime("%Y-%m-%d %H:%M:%S")}')
    
    repo.git.add(file_path)
    repo.git.commit(m=commit_message)
    repo.git.push()

if __name__ == "__main__":
    repo_path = '/Users/ilyasserraji'  
    file_path = '/Users/ilyasserraji/repository/ml-init/test' 
    commit_message = '<COMMIT_MESSAGE>'  
    daily_commit(repo_path, file_path, commit_message)